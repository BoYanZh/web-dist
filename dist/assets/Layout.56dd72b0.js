import{u as te,a as le,_ as kt,g as kn,b as Cn,o as N,p as ot,O as H,S as R,h as Kt,c as dr,n as pe,s as $e,l as xn,d as je,e as o,M as it,f as at,i as st,j as lt,k as K,I as _n,T as fr,F as hr,m as At,B as Me,q as ct,r as ve,t as ze,v as gr,w as pr,x as mr,y as Pt,L as $n,z as vr,A as br,C as wr,D as be,E as Mn,G as Y,H as On,J as yr,K as Sr,N as It,P as ut,Q as kr,R as Xt,U as Cr,V as En,W as Ct,X as xr,Y as _r,Z as Lt,$ as $r,a0 as Ue,a1 as Mr,a2 as Or,a3 as Re,a4 as ce,a5 as Er,a6 as Tr,a7 as Tn,a8 as An,a9 as Te,aa as ge,ab as Ne,ac as He,ad as Dt,ae as Xe,af as Pn,ag as Se,ah as Ar,ai as Pr,aj as Ir,ak as Lr,al as de,am as Dr,an as Ye,ao as Je,ap as In,aq as Fr,ar as F,as as Ft,at as Yt,au as jr,av as Jt,aw as Rr,ax as Ln,ay as dt,az as Vr,aA as Br,aB as zr,aC as Dn,aD as Fn,aE as jn,aF as xe,aG as Rn,aH as Ur,aI as ne,aJ as Nr,aK as Hr,aL as Wr,aM as Qt,aN as qr,aO as Gr,aP as Kr,aQ as Xr,aR as we,aS as Yr,aT as Jr,aU as Qr,aV as Zr,aW as eo,aX as to,aY as no,aZ as ro,a_ as oo,a$ as io,b0 as ao,b1 as so,b2 as lo,b3 as co,b4 as uo,b5 as fo}from"./index.0dd565a4.js";import{u as ho,a as go}from"./useTitle.5abfb25e.js";import{M as Vn}from"./Markdown.db66292e.js";import{u as X}from"./useT.8636173f.js";import{f as po,a as mo,b as vo,c as bo,d as wo,e as yo,g as So,h as ko,i as Co,j as xo}from"./api.3963b0e7.js";import{u as _o,a as Bn,b as $o}from"./useUtil.02abdd36.js";import{A as Mo,B as Oo,F as Eo,a as To,C as Ao,b as Po,c as Io,T as Lo,d as Zt}from"./index.65eeb018.js";import{R as Do}from"./index.5d3c28c5.js";import{M as zn}from"./FolderTree.8b2adb2f.js";const Fo=(e,...t)=>{},xt=new Map,jo=(e,t)=>{xt.set(e,t)},Un=e=>{window.scroll({top:xt.get(e)||0,behavior:"smooth"}),Fo("recoverScroll",e,xt.get(e))};let Ge;function Ro(e,t,n="replaceState"){let r=n==="location"?location.href:location.hash;if(!r.includes("?"))r=`${r}?${e}=${t}`;else if(!r.includes(e))r=`${r}&${e}=${t}`;else{const i=`(\\?|&|#)${e}([^&|^#]*)(&|$|#)`;r=r.replace(new RegExp(i),"$1"+e+"="+t+"$3")}n==="location"&&(location.href=r),n==="pushState"&&history.pushState({},"",r),n==="replaceState"&&history.replaceState({},"",r)}function en(e){for(var t=window.location.search.substring(1),n=t.split("&"),r=0;r<n.length;r++){var i=n[r].split("=");if(i[0]==e)return i[1]}return""}const pt={};let ae=1;const ss=()=>ae,Vo=()=>{const e=kn();ae=1,e.type==="pagination"&&Ro("page",1),console.log("resetGlobalPage",ae)},ue=()=>{const{pathname:e}=te(),[,t]=le(g=>po(g,kt())),n=kn();n.type==="pagination"&&en("page")&&(ae=parseInt(en("page")));const[,r]=le(g=>{const u={index:g==null?void 0:g.index,size:g==null?void 0:g.size};return mo(g==null?void 0:g.path,kt(),u.index,u.size,g==null?void 0:g.force,new Cn.CancelToken(function(h){Ge=h}))}),i=(g,u=!0,p=!1)=>{p&&(g=ot(e(),g)),u?pt[g]=!0:delete pt[g]};let a=!1;const s=(g,u,p)=>{Ge==null||Ge(),a=u!=null?u:!1,c(""),pt[g]?d(g,ae,void 0,void 0,p):l(g)},l=async g=>{H.setState(R.FetchingObj);const u=await t(g);Kt(u,p=>{var h;H.setObj(p),H.setProvider(p.provider),p.is_dir?(i(g),d(g,ae)):(H.setReadme(p.readme),H.setRelated((h=p.related)!=null?h:[]),H.setRawUrl(p.raw_url),H.setState(R.File))},c)},d=async(g,u,p,h=!1,m)=>{p||(p=n.size),p!==void 0&&n.type==="all"&&(p=void 0),ae=u!=null?u:1,H.setState(h?R.FetchingMore:R.FetchingObjs);const S=await r({path:g,index:u,size:p,force:m});Kt(S,w=>{var k;h?dr(w.content):(H.setObjs((k=w.content)!=null?k:[]),H.setTotal(w.total)),H.setReadme(w.readme),H.setWrite(w.write),H.setProvider(w.provider),H.setState(R.Folder),Un(g)},c)},c=(g,u)=>{u===403?(H.setState(R.NeedPassword),a&&pe.error(g)):H.setErr(g)},v=(g,u,p=!1)=>{d(e(),g,u,p)};return{handlePathChange:s,setPathAs:i,refresh:(g,u)=>{s(e(),g,u)},pageChange:v,loadMore:()=>{v(ae+1,void 0,!0)},allLoaded:()=>ae>=Math.ceil(N.total/n.size)}},Bo=()=>{const{rawLinks:e}=_o(),{rawLink:t}=Bn(),n=X();return{batchDownloadSelected:()=>{e(!0).forEach(i=>{window.open(i,"_blank")})},sendToAria2:async()=>{const r=$e().filter(l=>!l.is_dir),{aria2_rpc_url:i,aria2_rpc_secret:a,aria2_dir:s}=xn;if(!i){pe.warning(n("home.toolbar.aria2_not_set"));return}try{for(const l of r){const d=await Cn.post(i,{id:Math.random().toString(),jsonrpc:"2.0",method:"aria2.addUri",params:["token:"+a,[t(l)],{out:l.name,"check-certificate":"false"}]});console.log(d)}pe.success(n("home.toolbar.send_aria2_success"))}catch(l){console.error(l),pe.error(`failed to send to aria2: ${l}`)}}}},ft=e=>{var a;const[t,n]=je((a=e.defaultValue)!=null?a:""),r=X(),i=()=>{var s;if(!t()){pe.warning(r("global.empty_input"));return}(s=e.onSubmit)==null||s.call(e,t()),n("")};return o(ct,{blockScrollOnMount:!1,get opened(){return e.opened},get onClose(){return e.onClose},initialFocus:"#modal-input",get children(){return[o(it,{}),o(at,{get children(){return[o(st,{get children(){return r(e.title)}}),o(lt,{get children(){return[o(K,{get when(){return e.type==="text"},get fallback(){return o(_n,{id:"modal-input",get type(){return e.type},get value(){return t()},onInput:s=>{n(s.currentTarget.value)},onKeyDown:s=>{s.key==="Enter"&&i()}})},get children(){return o(fr,{id:"modal-input",get value(){return t()},onInput:s=>{n(s.currentTarget.value)}})}}),o(K,{get when(){return e.tips},get children(){return o(hr,{get children(){return e.tips}})}})]}}),o(At,{display:"flex",gap:"$2",get children(){return[o(Me,{get onClick(){return e.onClose},colorScheme:"neutral",get children(){return r("global.cancel")}}),o(Me,{get loading(){return e.loading},onClick:()=>i(),get children(){return r("global.ok")}})]}})]}})]}})},zo=()=>{const{pathname:e}=te(),t=ve(()=>["",...e().split("/").filter(Boolean)]),n=X(),{setPathAs:r}=ue();return o(wr,{class:"nav",w:"$full",get children(){return o(ze,{get each(){return t()},children:(i,a)=>{const s=ve(()=>a()===t().length-1),l=t().slice(0,a()+1).join("/"),d=gr(l);let c=()=>i;return c()===""&&(c=()=>be("home_icon")+n("manage.sidemenu.home")),o(pr,{class:"nav-item",get children(){return[o(mr,{class:"nav-link",css:{wordBreak:"break-all"},color:"unset",get _hover(){return{bgColor:Pt(),color:"unset"}},_active:{transform:"scale(.95)",transition:"0.1s"},cursor:"pointer",p:"$1",rounded:"$lg",get currentPage(){return s()},get as(){return s()?void 0:$n},get href(){return vr(d)},onMouseEnter:()=>r(l),children:c}),o(K,{get when(){return!s()},get children(){return o(br,{class:"nav-separator"})}})]}})}})}})};function Nn(e,t){e.indexOf(t)===-1&&e.push(t)}function Uo(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Hn=(e,t,n)=>Math.min(Math.max(n,e),t),ee={duration:.3,delay:0,endDelay:0,repeat:0,easing:"ease"},Ve=e=>typeof e=="number",_e=e=>Array.isArray(e)&&!Ve(e[0]),No=(e,t,n)=>{const r=t-e;return((n-e)%r+r)%r+e};function Ho(e,t){return _e(e)?e[No(0,e.length,t)]:e}const Wn=(e,t,n)=>-n*e+n*t+e,qn=()=>{},fe=e=>e,jt=(e,t,n)=>t-e===0?1:(n-e)/(t-e);function Gn(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=jt(0,t,r);e.push(Wn(n,1,i))}}function Wo(e){const t=[0];return Gn(t,e-1),t}function qo(e,t=Wo(e.length),n=fe){const r=e.length,i=r-t.length;return i>0&&Gn(t,i),a=>{let s=0;for(;s<r-2&&!(a<t[s+1]);s++);let l=Hn(0,1,jt(t[s],t[s+1],a));return l=Ho(n,s)(l),Wn(e[s],e[s+1],l)}}const Kn=e=>Array.isArray(e)&&Ve(e[0]),_t=e=>typeof e=="object"&&Boolean(e.createAnimation),Be=e=>typeof e=="function",Go=e=>typeof e=="string",mt={ms:e=>e*1e3,s:e=>e/1e3},Xn=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Ko=1e-7,Xo=12;function Yo(e,t,n,r,i){let a,s,l=0;do s=t+(n-t)/2,a=Xn(s,r,i)-e,a>0?n=s:t=s;while(Math.abs(a)>Ko&&++l<Xo);return s}function Le(e,t,n,r){if(e===t&&n===r)return fe;const i=a=>Yo(a,0,1,e,n);return a=>a===0||a===1?a:Xn(i(a),t,r)}const Jo=(e,t="end")=>n=>{n=t==="end"?Math.min(n,.999):Math.max(n,.001);const r=n*e,i=t==="end"?Math.floor(r):Math.ceil(r);return Hn(0,1,i/e)},tn={ease:Le(.25,.1,.25,1),"ease-in":Le(.42,0,1,1),"ease-in-out":Le(.42,0,.58,1),"ease-out":Le(0,0,.58,1)},Qo=/\((.*?)\)/;function nn(e){if(Be(e))return e;if(Kn(e))return Le(...e);if(tn[e])return tn[e];if(e.startsWith("steps")){const t=Qo.exec(e);if(t){const n=t[1].split(",");return Jo(parseFloat(n[0]),n[1].trim())}}return fe}class Zo{constructor(t,n=[0,1],{easing:r,duration:i=ee.duration,delay:a=ee.delay,endDelay:s=ee.endDelay,repeat:l=ee.repeat,offset:d,direction:c="normal"}={}){if(this.startTime=null,this.rate=1,this.t=0,this.cancelTimestamp=null,this.easing=fe,this.duration=0,this.totalDuration=0,this.repeat=0,this.playState="idle",this.finished=new Promise((g,u)=>{this.resolve=g,this.reject=u}),r=r||ee.easing,_t(r)){const g=r.createAnimation(n);r=g.easing,n=g.keyframes||n,i=g.duration||i}this.repeat=l,this.easing=_e(r)?fe:nn(r),this.updateDuration(i);const v=qo(n,d,_e(r)?r.map(nn):fe);this.tick=g=>{var u;a=a;let p=0;this.pauseTime!==void 0?p=this.pauseTime:p=(g-this.startTime)*this.rate,this.t=p,p/=1e3,p=Math.max(p-a,0),this.playState==="finished"&&this.pauseTime===void 0&&(p=this.totalDuration);const h=p/this.duration;let m=Math.floor(h),S=h%1;!S&&h>=1&&(S=1),S===1&&m--;const w=m%2;(c==="reverse"||c==="alternate"&&w||c==="alternate-reverse"&&!w)&&(S=1-S);const k=p>=this.totalDuration?1:Math.min(S,1),y=v(this.easing(k));t(y),this.pauseTime===void 0&&(this.playState==="finished"||p>=this.totalDuration+s)?(this.playState="finished",(u=this.resolve)===null||u===void 0||u.call(this,y)):this.playState!=="idle"&&(this.frameRequestId=requestAnimationFrame(this.tick))},this.play()}play(){const t=performance.now();this.playState="running",this.pauseTime!==void 0?this.startTime=t-this.pauseTime:this.startTime||(this.startTime=t),this.cancelTimestamp=this.startTime,this.pauseTime=void 0,this.frameRequestId=requestAnimationFrame(this.tick)}pause(){this.playState="paused",this.pauseTime=this.t}finish(){this.playState="finished",this.tick(0)}stop(){var t;this.playState="idle",this.frameRequestId!==void 0&&cancelAnimationFrame(this.frameRequestId),(t=this.reject)===null||t===void 0||t.call(this,!1)}cancel(){this.stop(),this.tick(this.cancelTimestamp)}reverse(){this.rate*=-1}commitStyles(){}updateDuration(t){this.duration=t,this.totalDuration=t*(this.repeat+1)}get currentTime(){return this.t}set currentTime(t){this.pauseTime!==void 0||this.rate===0?this.pauseTime=t:this.startTime=performance.now()-t/this.rate}get playbackRate(){return this.rate}set playbackRate(t){this.rate=t}}class ei{setAnimation(t){this.animation=t,t==null||t.finished.then(()=>this.clearAnimation()).catch(()=>{})}clearAnimation(){this.animation=this.generator=void 0}}const vt=new WeakMap;function Yn(e){return vt.has(e)||vt.set(e,{transforms:[],values:new Map}),vt.get(e)}function ti(e,t){return e.has(t)||e.set(t,new ei),e.get(t)}const ni=["","X","Y","Z"],ri=["translate","scale","rotate","skew"],Oe={x:"translateX",y:"translateY",z:"translateZ"},rn={syntax:"<angle>",initialValue:"0deg",toDefaultUnit:e=>e+"deg"},oi={translate:{syntax:"<length-percentage>",initialValue:"0px",toDefaultUnit:e=>e+"px"},rotate:rn,scale:{syntax:"<number>",initialValue:1,toDefaultUnit:fe},skew:rn},Ee=new Map,ht=e=>`--motion-${e}`,Qe=["x","y","z"];ri.forEach(e=>{ni.forEach(t=>{Qe.push(e+t),Ee.set(ht(e+t),oi[e])})});const ii=(e,t)=>Qe.indexOf(e)-Qe.indexOf(t),ai=new Set(Qe),Rt=e=>ai.has(e),si=(e,t)=>{Oe[t]&&(t=Oe[t]);const{transforms:n}=Yn(e);Nn(n,t),e.style.transform=Jn(n)},Jn=e=>e.sort(ii).reduce(li,"").trim(),li=(e,t)=>`${e} ${t}(var(${ht(t)}))`,$t=e=>e.startsWith("--"),on=new Set;function ci(e){if(!on.has(e)){on.add(e);try{const{syntax:t,initialValue:n}=Ee.has(e)?Ee.get(e):{};CSS.registerProperty({name:e,inherits:!1,syntax:t,initialValue:n})}catch{}}}const bt=(e,t)=>document.createElement("div").animate(e,t),an={cssRegisterProperty:()=>typeof CSS<"u"&&Object.hasOwnProperty.call(CSS,"registerProperty"),waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate"),partialKeyframes:()=>{try{bt({opacity:[1]})}catch{return!1}return!0},finished:()=>Boolean(bt({opacity:[0,1]},{duration:.001}).finished),linearEasing:()=>{try{bt({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0}},wt={},ke={};for(const e in an)ke[e]=()=>(wt[e]===void 0&&(wt[e]=an[e]()),wt[e]);const ui=.015,di=(e,t)=>{let n="";const r=Math.round(t/ui);for(let i=0;i<r;i++)n+=e(jt(0,r-1,i))+", ";return n.substring(0,n.length-2)},sn=(e,t)=>Be(e)?ke.linearEasing()?`linear(${di(e,t)})`:ee.easing:Kn(e)?fi(e):e,fi=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`;function hi(e,t){for(let n=0;n<e.length;n++)e[n]===null&&(e[n]=n?e[n-1]:t());return e}const gi=e=>Array.isArray(e)?e:[e];function Mt(e){return Oe[e]&&(e=Oe[e]),Rt(e)?ht(e):e}const De={get:(e,t)=>{t=Mt(t);let n=$t(t)?e.style.getPropertyValue(t):getComputedStyle(e)[t];if(!n&&n!==0){const r=Ee.get(t);r&&(n=r.initialValue)}return n},set:(e,t,n)=>{t=Mt(t),$t(t)?e.style.setProperty(t,n):e.style[t]=n}};function pi(e,t=!0){if(!(!e||e.playState==="finished"))try{e.stop?e.stop():(t&&e.commitStyles(),e.cancel())}catch{}}function mi(e,t){var n;let r=(t==null?void 0:t.toDefaultUnit)||fe;const i=e[e.length-1];if(Go(i)){const a=((n=i.match(/(-?[\d.]+)([a-z%]*)/))===null||n===void 0?void 0:n[2])||"";a&&(r=s=>s+a)}return r}function vi(){return window.__MOTION_DEV_TOOLS_RECORD}function bi(e,t,n,r={},i){const a=vi(),s=r.record!==!1&&a;let l,{duration:d=ee.duration,delay:c=ee.delay,endDelay:v=ee.endDelay,repeat:g=ee.repeat,easing:u=ee.easing,direction:p,offset:h,allowWebkitAcceleration:m=!1}=r;const S=Yn(e),w=Rt(t);let k=ke.waapi();w&&si(e,t);const y=Mt(t),I=ti(S.values,y),T=Ee.get(y);return pi(I.animation,!(_t(u)&&I.generator)&&r.record!==!1),()=>{const P=()=>{var M,B;return(B=(M=De.get(e,y))!==null&&M!==void 0?M:T==null?void 0:T.initialValue)!==null&&B!==void 0?B:0};let f=hi(gi(n),P);const C=mi(f,T);if(_t(u)){const M=u.createAnimation(f,t!=="opacity",P,y,I);u=M.easing,f=M.keyframes||f,d=M.duration||d}if($t(y)&&(ke.cssRegisterProperty()?ci(y):k=!1),w&&!ke.linearEasing()&&(Be(u)||_e(u)&&u.some(Be))&&(k=!1),k){T&&(f=f.map(j=>Ve(j)?T.toDefaultUnit(j):j)),f.length===1&&(!ke.partialKeyframes()||s)&&f.unshift(P());const M={delay:mt.ms(c),duration:mt.ms(d),endDelay:mt.ms(v),easing:_e(u)?void 0:sn(u,d),direction:p,iterations:g+1,fill:"both"};l=e.animate({[y]:f,offset:h,easing:_e(u)?u.map(j=>sn(j,d)):void 0},M),l.finished||(l.finished=new Promise((j,z)=>{l.onfinish=j,l.oncancel=z}));const B=f[f.length-1];l.finished.then(()=>{De.set(e,y,B),l.cancel()}).catch(qn),m||(l.playbackRate=1.000001)}else if(i&&w)f=f.map(M=>typeof M=="string"?parseFloat(M):M),f.length===1&&f.unshift(parseFloat(P())),l=new i(M=>{De.set(e,y,C?C(M):M)},f,Object.assign(Object.assign({},r),{duration:d,easing:u}));else{const M=f[f.length-1];De.set(e,y,T&&Ve(M)?T.toDefaultUnit(M):M)}return s&&a(e,t,f,{duration:d,delay:c,easing:u,repeat:g,offset:h},"motion-one"),I.setAnimation(l),l}}const wi=(e,t)=>e[t]?Object.assign(Object.assign({},e),e[t]):Object.assign({},e);function yi(e,t){var n;return typeof e=="string"?t?((n=t[e])!==null&&n!==void 0||(t[e]=document.querySelectorAll(e)),e=t[e]):e=document.querySelectorAll(e):e instanceof Element&&(e=[e]),Array.from(e||[])}function Qn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}const Si={any:0,all:1};function ki(e,t,{root:n,margin:r,amount:i="any"}={}){if(typeof IntersectionObserver>"u")return()=>{};const a=yi(e),s=new WeakMap,l=c=>{c.forEach(v=>{const g=s.get(v.target);if(v.isIntersecting!==Boolean(g))if(v.isIntersecting){const u=t(v);Be(u)?s.set(v.target,u):d.unobserve(v.target)}else g&&(g(v),s.delete(v.target))})},d=new IntersectionObserver(l,{root:n,rootMargin:r,threshold:typeof i=="number"?i:Si[i]});return a.forEach(c=>d.observe(c)),()=>d.disconnect()}function Ci(e,t){return typeof e!=typeof t?!0:Array.isArray(e)&&Array.isArray(t)?!xi(e,t):e!==t}function xi(e,t){const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function _i(e){return typeof e=="object"}function ln(e,t){if(_i(e))return e;if(e&&t)return t[e]}let he;function $i(){if(!he)return;const e=he.sort(Oi).map(Ei);e.forEach(cn),e.forEach(cn),he=void 0}function yt(e){he?Nn(he,e):(he=[e],requestAnimationFrame($i))}function Mi(e){he&&Uo(he,e)}const Oi=(e,t)=>e.getDepth()-t.getDepth(),Ei=e=>e.animateUpdates(),cn=e=>e.next(),un=(e,t)=>new CustomEvent(e,{detail:{target:t}});function Ot(e,t,n){e.dispatchEvent(new CustomEvent(t,{detail:{originalEvent:n}}))}function dn(e,t,n){e.dispatchEvent(new CustomEvent(t,{detail:{originalEntry:n}}))}const Ti={isActive:e=>Boolean(e.inView),subscribe:(e,{enable:t,disable:n},{inViewOptions:r={}})=>{const{once:i}=r,a=Qn(r,["once"]);return ki(e,s=>{if(t(),dn(e,"viewenter",s),!i)return l=>{n(),dn(e,"viewleave",l)}},a)}},fn=(e,t,n)=>r=>{r.pointerType&&r.pointerType!=="mouse"||(n(),Ot(e,t,r))},Ai={isActive:e=>Boolean(e.hover),subscribe:(e,{enable:t,disable:n})=>{const r=fn(e,"hoverstart",t),i=fn(e,"hoverend",n);return e.addEventListener("pointerenter",r),e.addEventListener("pointerleave",i),()=>{e.removeEventListener("pointerenter",r),e.removeEventListener("pointerleave",i)}}},Pi={isActive:e=>Boolean(e.press),subscribe:(e,{enable:t,disable:n})=>{const r=a=>{n(),Ot(e,"pressend",a),window.removeEventListener("pointerup",r)},i=a=>{t(),Ot(e,"pressstart",a),window.addEventListener("pointerup",r)};return e.addEventListener("pointerdown",i),()=>{e.removeEventListener("pointerdown",i),window.removeEventListener("pointerup",r)}}},Ke={inView:Ti,hover:Ai,press:Pi},hn=["initial","animate",...Object.keys(Ke),"exit"],Et=new WeakMap;function Ii(e={},t){let n,r=t?t.getDepth()+1:0;const i={initial:!0,animate:!0},a={},s={};for(const m of hn)s[m]=typeof e[m]=="string"?e[m]:t==null?void 0:t.getContext()[m];const l=e.initial===!1?"animate":"initial";let d=ln(e[l]||s[l],e.variants)||{},c=Qn(d,["transition"]);const v=Object.assign({},c);function*g(){var m,S;const w=c;c={};const k={};for(const f of hn){if(!i[f])continue;const C=ln(e[f]);if(!!C)for(const M in C)M!=="transition"&&(c[M]=C[M],k[M]=wi((S=(m=C.transition)!==null&&m!==void 0?m:e.transition)!==null&&S!==void 0?S:{},M))}const y=new Set([...Object.keys(c),...Object.keys(w)]),I=[];y.forEach(f=>{var C;c[f]===void 0&&(c[f]=v[f]),Ci(w[f],c[f])&&((C=v[f])!==null&&C!==void 0||(v[f]=De.get(n,f)),I.push(bi(n,f,c[f],k[f],Zo)))}),yield;const T=I.map(f=>f()).filter(Boolean);if(!T.length)return;const P=c;n.dispatchEvent(un("motionstart",P)),Promise.all(T.map(f=>f.finished)).then(()=>{n.dispatchEvent(un("motioncomplete",P))}).catch(qn)}const u=(m,S)=>()=>{i[m]=S,yt(h)},p=()=>{for(const m in Ke){const S=Ke[m].isActive(e),w=a[m];S&&!w?a[m]=Ke[m].subscribe(n,{enable:u(m,!0),disable:u(m,!1)},e):!S&&w&&(w(),delete a[m])}},h={update:m=>{!n||(e=m,p(),yt(h))},setActive:(m,S)=>{!n||(i[m]=S,yt(h))},animateUpdates:g,getDepth:()=>r,getTarget:()=>c,getOptions:()=>e,getContext:()=>s,mount:m=>(n=m,Et.set(n,h),p(),()=>{Et.delete(n),Mi(h);for(const S in a)a[S]()}),isMounted:()=>Boolean(n)};return h}function Li(e){const t={},n=[];for(let r in e){const i=e[r];Rt(r)&&(Oe[r]&&(r=Oe[r]),n.push(r),r=ht(r));let a=Array.isArray(i)?i[0]:i;const s=Ee.get(r);s&&(a=Ve(i)?s.toDefaultUnit(i):i),t[r]=a}return n.length&&(t.transform=Jn(n)),t}const Di={initial:()=>!0,addCleanup:Y,addMount:On},Tt=Mn(),Zn=Mn(Di);function Fi(e,t,n,r){const{addCleanup:i,addMount:a,initial:s}=n,l=Ii(s()?t():{...t(),initial:!1},r);return a(yr.bind(void 0,Sr(),()=>{i(l.mount(e())),It(()=>l.update(t()))})),l}const ji=/([^:; ]*):\s*([^;]*)/g;function gn(e){const t={};let n;for(;n=ji.exec(e);)t[n[1]]=n[2];return t}function Ri(e,t){if(typeof e=="object"&&typeof t=="object")return{...e,...t};if(typeof e=="string"&&typeof t=="string")return`${e};${t}`;const n=typeof e=="object"?e:gn(e),r=typeof t=="object"?t:gn(t);return{...n,...r}}const pn=e=>{const[t,,n]=kr(e,["initial","animate","inView","inViewOptions","hover","press","variants","transition","exit"],["tag","ref","style","onMotionStart","onMotionComplete","onHoverStart","onHoverEnd","onPressStart","onPressEnd","onViewEnter","onViewLeave"]),r=Fi(()=>a,()=>({...t}),Xt(Zn),Xt(Tt)),i=Li(r.getTarget());let a;return o(Tt.Provider,{value:r,get children(){return o(Cr,ut({ref:s=>{var l;a=s,(l=e.ref)==null||l.call(e,s)},get component(){return En(()=>e.tag||"div")},get style(){return Ct(()=>!!e.style,!0)()?Ri(e.style,i):i},get["on:motionstart"](){return e.onMotionStart},get["on:motioncomplete"](){return e.onMotionComplete},get["on:hoverstart"](){return e.onHoverStart},get["on:hoverend"](){return e.onHoverEnd},get["on:pressstart"](){return e.onPressStart},get["on:pressend"](){return e.onPressEnd},get["on:viewenter"](){return e.onViewEnter},get["on:viewleave"](){return e.onViewLeave}},n))}})},Vt=new Proxy(pn,{get:(e,t)=>n=>(delete n.tag,o(pn,ut(n,{tag:t})))}),Vi=e=>(e=Array.isArray(e)?e[0]:e,e instanceof Element?e:void 0),Bi=(e,t)=>{const n={once:!0};e.addEventListener("motioncomplete",t,n),Y(e.removeEventListener.bind(e,"motioncomplete",t,n))},zi=e=>{let{initial:t=!0}=e;On(()=>t=!0);let n=!1,r=[],i=[],a=[];return Y(()=>{a.concat(i).forEach(s=>s()),i=a=r=[]}),o(Zn.Provider,{value:{addCleanup:s=>i.push(s),addMount:s=>r.push(s),initial:()=>t},get children(){return o(Tt.Provider,{value:void 0,get children(){return En(()=>{const s=xr(()=>e.children),l=ve(()=>Vi(s())),[d,c]=je(),[v,g]=je();return _r(Lt(l,h=>{a.push(...i),i=[],$r(()=>{e.exitBeforeEnter?(c(),p(()=>!n&&u(h))):(u(h),p())})})),[d,v];function u(h){c(h),r.forEach(m=>m()),r=[]}function p(h){var k;const m=()=>{g(),a.forEach(y=>y()),a=[],h==null||h()},S=g((k=d())!=null?k:v());if(!S)return m();const w=Et.get(S);if(!w||!w.getOptions().exit)return m();w.setActive("exit",n=!0),Bi(S,()=>{n=!1,m()})}})}})}})},Ui=ge("<a></a>"),Ni=()=>{const e=Ue("white","$neutral3"),t=JSON.parse(be("customize_nav"));return o(Te,{w:"$full",rounded:"$xl",get bgColor(){return e()},p:"$4",shadow:"$lg",get children(){return o(Mr,{templateColumns:"repeat(auto-fit, $16)",justifyContent:"center",gap:"$6",get children(){return o(ze,{each:t,children:n=>o(Or,{get children(){const r=Ui.cloneNode(!0);return Re(r,o(Vt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.2},get children(){return o(ce,{transition:"all 0.3s",get _hover(){return{transform:"scale(1.01)",bgColor:Pt()}},rounded:"$lg",wrap:"wrap",spacing:"$4",p:"$2",get children(){return[o(Er,{name:"Hector Rhodes",get src(){return n.icon}}),o(Tr,{css:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},maxWidth:48,get children(){return n.name}})]}})}})),Tn(()=>An(r,"href",n.url)),r}})})}})}})},Hi=Ne(()=>He(()=>import("./Folder.372da21a.js").then(e=>e.F),["assets/Folder.372da21a.js","assets/Folder.b511ba9e.css","assets/index.0dd565a4.js","assets/index.659f4289.css","assets/useT.8636173f.js","assets/useUtil.02abdd36.js","assets/api.3963b0e7.js","assets/index.65eeb018.js","assets/icon.83a82a8d.js"])),Wi=Ne(()=>He(()=>import("./File.c8984cdf.js").then(e=>e.a),["assets/File.c8984cdf.js","assets/index.0dd565a4.js","assets/index.659f4289.css","assets/useT.8636173f.js","assets/useUtil.02abdd36.js","assets/api.3963b0e7.js","assets/icon.83a82a8d.js","assets/index.65eeb018.js"])),qi=Ne(()=>He(()=>import("./Password.049c421c.js"),["assets/Password.049c421c.js","assets/index.0dd565a4.js","assets/index.659f4289.css","assets/useT.8636173f.js","assets/index.65eeb018.js","assets/useTitle.5abfb25e.js","assets/Markdown.db66292e.js","assets/api.3963b0e7.js","assets/useUtil.02abdd36.js","assets/index.5d3c28c5.js","assets/FolderTree.8b2adb2f.js"]));let mn=!0;const Gi=()=>{const e=Ue("white","$neutral3"),{pathname:t}=te(),{handlePathChange:n}=ue();let r=t();return It(Lt(t,i=>{ho(),mn||Vo(),mn=!1,jo(r,window.scrollY),n(i),r=i})),o(ce,{class:"obj-box",w:"$full",rounded:"$xl",get bgColor(){return e()},p:"$2",shadow:"$lg",spacing:"$2",get children(){return o(Dt,{get fallback(){return o(Xe,{})},get children(){return o(Pn,{get children(){return[o(Se,{get when(){return N.err},get children(){return o(Ar,{get msg(){return N.err},disableColor:!0})}}),o(Se,{get when(){return[R.FetchingObj,R.FetchingObjs].includes(N.state)},get children(){return o(Xe,{})}}),o(Se,{get when(){return N.state===R.NeedPassword},get children(){return o(qi,{})}}),o(Se,{get when(){return[R.Folder,R.FetchingMore].includes(N.state)},get children(){return o(Hi,{})}}),o(Se,{get when(){return N.state===R.File},get children(){return o(Wi,{})}})]}})}})}})},Ki=()=>{const e=Ue("white","$neutral3"),{proxyLink:t}=Bn(),{pathname:n}=te(),r=ve(Lt(()=>N.state,()=>{if(![R.FetchingMore,R.Folder,R.File].includes(N.state))return"";if(N.readme)return N.readme;if([R.FetchingMore,R.Folder].includes(N.state)){const s=N.objs.find(l=>l.name.toLowerCase()==="readme.md");if(s)return t(s,!0)}return""})),i=async s=>{let l={content:s};return/^https?:\/\//g.test(s)&&(l=await vo(s)),setTimeout(()=>{Un(n())}),l},[a]=Pr(r,i);return o(K,{get when(){return r()},get children(){return o(Te,{w:"$full",rounded:"$xl",p:"$4",get bgColor(){return e()},shadow:"$lg",get children(){return o(Ir,{get loading(){return a.loading},get children(){return o(Vn,{get children(){var s;return(s=a())==null?void 0:s.content}})}})}})}})},Bt=e=>{const t=be("home_container");return o(Pn,{get fallback(){return o(Te,{w:"min(99%, 980px)",get children(){return e.children}})},get children(){return o(Se,{when:t==="hope_container",get children(){return o(Lr,{get children(){return e.children}})}})}})},Xi=()=>o(Bt,{get children(){return o(ce,{class:"body",mt:"$1",py:"$2",px:"2%",minH:"80vh",w:"$full",gap:"$4",get children(){return[o(Ni,{}),o(zo,{}),o(Gi,{}),o(Ki,{})]}})}}),Yi=ge("<span>|</span>"),Ji=()=>{const e=X();return o(ce,{class:"footer",w:"$full",py:"$4",get children(){return o(de,{spacing:"$1",get children(){return[o(Dr,{href:"https://github.com/Xhofe/alist",external:!0,get children(){return e("home.footer.powered_by")}}),Yi.cloneNode(!0),o(Mo,{as:$n,get href(){return Ye.is_guest(Je())?"/@login":"/@manage"},get children(){return e(Ye.is_guest(Je())?"login.login":"home.footer.manage")}})]}})}})},Qi=()=>{const e=be("logo").split(`
`),t=Ue(e[0],e.pop());return o(Ln,{class:"header",w:"$full",get children(){return o(Bt,{get children(){return o(de,{px:"calc(2% + 0.5rem)",py:"$2",w:"$full",justifyContent:"space-between",get children(){return[o(de,{class:"header-left",h:"44px",get children(){return o(In,{get src(){return t()},h:"$full",w:"auto",get fallback(){return o(Fr,{})}})}}),o(de,{class:"header-right",spacing:"$2",get children(){return o(K,{get when(){return N.state===R.Folder},get children(){return[o(de,{bg:"$neutral4",w:"$32",p:"$2",rounded:"$md",justifyContent:"space-between",border:"2px solid transparent",cursor:"pointer",_hover:{borderColor:"$info6"},onClick:()=>{F.emit("tool","search")},get children(){return[o(Ft,{as:Oo}),o(de,{get children(){return[o(Yt,{children:"Ctrl"}),o(Yt,{children:"K"})]}})]}}),o(jr,{"aria-label":"switch layout",compact:!0,size:"lg",get icon(){return o(K,{get when(){return Jt()==="list"},get fallback(){return o(Eo,{})},get children(){return o(To,{})}})},onClick:()=>{Rr(Jt()==="list"?"grid":"list")}})]}})}})]}})}})}})};function Zi(e){return dt({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path stroke="none" d="M0 0h24v24H0z"/><path d="M9 11l3 3 8-8"/><path d="M20 12v6a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h9"/>'},e)}function ea(e){return dt({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path stroke="none" d="M0 0h24v24H0z"/><rect width="12" height="12" x="8" y="8" rx="2"/><path d="M16 8V6a2 2 0 00-2-2H6a2 2 0 00-2 2v8a2 2 0 002 2h2"/>'},e)}function ta(e){return dt({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path stroke="none" d="M0 0h24v24H0z"/><path d="M14 3v4a1 1 0 001 1h4"/><path d="M17 21H7a2 2 0 01-2-2V5a2 2 0 012-2h7l5 5v11a2 2 0 01-2 2zM9 15h6"/><path d="M12.5 17.5L15 15l-2.5-2.5"/>'},e)}function na(e){return dt({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5 0 005 0l4-4a3.5 3.5 0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5 0 00-5 0l-4 4a3.5 3.5 0 005 5l.5-.5"/>'},e)}const Fe={rename:{icon:Ao,color:"$accent9"},copy:{icon:ea,color:"$success9"},move:{icon:ta,color:"$warning9"},delete:{icon:Vr,color:"$danger9"},copy_link:{icon:na,color:"$info9"},mkdir:{icon:Po,p:!0},new_file:{icon:Io,p:!0},cancel_select:{icon:Lo},download:{icon:Br,color:"$primary9"}},Ze=e=>{const t=zr.findIndex(r=>r===e.name);if(t!==-1&&!Ye.can(Je(),t))return null;const n=X();return o(Dn,{placement:"top",withArrow:!0,get label(){return n(`home.toolbar.${e.name}`)},get children(){return o(Ft,ut({get class(){return`toolbar-${e.name}`},get _hover(){return{bgColor:Pt()}},_focus:{outline:"none"},cursor:"pointer",boxSize:"$7",rounded:"$md",get p(){var r;return(r=Fe[e.name])!=null&&r.p?"$1_5":"$1"},_active:{transform:"scale(.94)",transition:"0.2s"},get as(){var r;return(r=Fe[e.name])==null?void 0:r.icon},get color(){var r;return(r=Fe[e.name])==null?void 0:r.color}},e))}})},ie=e=>{const t=X();return o(Dn,{get disabled(){return!e.tips},placement:"left",withArrow:!0,get label(){return t(`home.toolbar.${e.tips}`)},get children(){return o(Ft,ut({color:"$info9",_hover:{bgColor:"$info9",color:"white"},_focus:{outline:"none"},cursor:"pointer",boxSize:"$8",rounded:"$lg",p:"$1",_active:{transform:"scale(.94)",transition:"0.2s"},get as(){return e.icon}},e))}})},ra=()=>{const e=X(),{copySelectedPreviewPage:t,copySelectedRawLink:n}=$o(),r="neutral";return o(Rn,{placement:"top",offset:10,get children(){return[o(Fn,{as:Ze,name:"copy_link"}),o(jn,{get children(){return[o(xe,{colorScheme:r,onSelect:()=>{t()},get children(){return e("home.toolbar.preview_page")}}),o(xe,{colorScheme:r,onSelect:()=>{n()},get children(){return e("home.toolbar.down_link")}}),o(xe,{colorScheme:r,onSelect:()=>{n(!0)},get children(){return e("home.toolbar.encode_down_link")}})]}})]}})},oa=ge("<p></p>"),ia=()=>{const e=X(),t="neutral",{batchDownloadSelected:n,sendToAria2:r}=Bo();return o(Rn,{placement:"top",offset:10,get children(){return[o(Fn,{as:Ze,name:"download"}),o(jn,{get children(){return[o(xe,{colorScheme:t,onSelect:n,get children(){return e("home.toolbar.batch_download")}}),o(K,{get when(){return Ye.is_admin(Je())||Ur("package_download")},get children(){return o(xe,{colorScheme:t,onSelect:()=>{F.emit("tool","package_download")},get children(){return e("home.toolbar.package_download")}})}}),o(xe,{colorScheme:t,onSelect:r,get children(){return e("home.toolbar.send_aria2")}})]}})]}})},aa=Ne(()=>He(()=>import("./PackageDownload.6325f8a9.js"),["assets/PackageDownload.6325f8a9.js","assets/index.0dd565a4.js","assets/index.659f4289.css","assets/useT.8636173f.js","assets/api.3963b0e7.js","assets/useUtil.02abdd36.js"])),sa=()=>{const e=X(),t=l=>{l==="package_download"&&r()};F.on("tool",t),Y(()=>{F.off("tool",t)});const{isOpen:n,onOpen:r,onClose:i}=ne(),[a,s]=je("pre_tips");return o(ct,{blockScrollOnMount:!1,get opened(){return n()},onClose:i,closeOnOverlayClick:!1,closeOnEsc:!1,get children(){return[o(it,{}),o(at,{get children(){return[o(st,{get children(){return e("home.toolbar.package_download")}}),o(Dt,{get fallback(){return o(Xe,{})},get children(){return o(K,{get when(){return a()==="pre_tips"},get fallback(){return o(aa,{onClose:i})},get children(){return[o(lt,{get children(){const l=oa.cloneNode(!0);return Re(l,()=>e("home.toolbar.pre_package_download-tips")),l}}),o(At,{display:"flex",gap:"$2",get children(){return[o(Me,{onClick:i,colorScheme:"neutral",get children(){return e("global.cancel")}}),o(Me,{colorScheme:"info",onClick:()=>{s("package_download")},get children(){return e("global.confirm")}})]}})]}})}})]}})]}})},la=()=>{const e=ve(()=>[R.Folder,R.FetchingMore].includes(N.state)&&Nr()&&Hr());return o(zi,{exitBeforeEnter:!0,get children(){return o(K,{get when(){return e()},get children(){return o(Te,{class:"center-toolbar",pos:"fixed",bottom:"$4",right:"50%",w:"max-content",color:"$neutral11",get as(){return Vt.div},initial:{opacity:0,scale:.9,x:"50% ",y:10},animate:{opacity:1,scale:1,x:"50%",y:0},exit:{opacity:0,scale:.9},transition:{duration:.2},get children(){return o(de,{p:"$2",get bgColor(){return Ue("white","#000000d0")()},spacing:"$1",shadow:"0px 10px 30px -5px rgba(0, 0, 0, 0.3)",rounded:"$lg",css:{backdropFilter:"blur(8px)"},get children(){return[o(ze,{each:["rename","move","copy","delete"],children:t=>o(Ze,{name:t,onClick:()=>{F.emit("tool",t)}})}),o(ra,{}),o(ia,{}),o(Ze,{name:"cancel_select",onClick:()=>{Wr(!1)}})]}})}})}})}})},ca=()=>{const{isOpen:e,onToggle:t}=ne({defaultIsOpen:localStorage.getItem("more-open")==="true",onClose:()=>localStorage.setItem("more-open","false"),onOpen:()=>localStorage.setItem("more-open","true")}),n=ve(()=>e()?"$4":"$5"),r=ve(()=>N.state===R.Folder),{refresh:i}=ue();return o(Te,{class:"left-toolbar-box",pos:"fixed",get right(){return n()},get bottom(){return n()},get children(){return o(K,{get when(){return e()},get fallback(){return o(ie,{class:"toolbar-toggle",as:Zt,onClick:()=>{t()}})},get children(){return o(ce,{class:"left-toolbar",p:"$1",rounded:"$lg",spacing:"$1",bgColor:"$neutral1",get as(){return Vt.div},initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.6},transition:{duration:.2},get children(){return[o(ce,{spacing:"$1",class:"left-toolbar-in",get children(){return[o(K,{get when(){return Ct(()=>!!r(),!0)()&&(Qt("write")||N.write)},get children(){return[o(ie,{as:Do,tips:"refresh",onClick:()=>{i(void 0,!0)}}),o(ie,{get as(){return Fe.new_file.icon},tips:"new_file",onClick:()=>{F.emit("tool","new_file")}}),o(ie,{get as(){return Fe.mkdir.icon},p:"$1_5",tips:"mkdir",onClick:()=>{F.emit("tool","mkdir")}}),o(ie,{as:qr,tips:"upload",onClick:()=>{F.emit("tool","upload")}})]}}),o(K,{get when(){return Ct(()=>!!r(),!0)()&&Qt("offline_download")},get children(){return o(ie,{as:Gr,pl:"0",tips:"offline_download",onClick:()=>{F.emit("tool","offline_download")}})}}),o(ie,{tips:"toggle_checkbox",as:Zi,onClick:Kr}),o(ie,{as:Xr,tips:"local_settings",onClick:()=>{F.emit("tool","local_settings")}})]}}),o(ie,{tips:"more",as:Zt,onClick:t})]}})}})}})},ua=()=>{const{isOpen:e,onOpen:t,onClose:n}=ne(),[r,i]=le(bo),{pathname:a}=te(),{refresh:s}=ue(),l=d=>{d==="copy"&&t()};return F.on("tool",l),Y(()=>{F.off("tool",l)}),o(zn,{get opened(){return e()},onClose:n,get loading(){return r()},onSubmit:async d=>{const c=await i(a(),d,$e().map(v=>v.name));we(c,()=>{s(),n()})}})},da=()=>{const{isOpen:e,onOpen:t,onClose:n}=ne(),[r,i]=le(wo),{pathname:a}=te(),{refresh:s}=ue(),l=d=>{d==="move"&&t()};return F.on("tool",l),Y(()=>{F.off("tool",l)}),o(zn,{get opened(){return e()},onClose:n,get loading(){return r()},onSubmit:async d=>{const c=await i(a(),d,$e().map(v=>v.name));we(c,()=>{s(),n()})}})},fa=ge("<p></p>"),ha=()=>{const e=X(),{isOpen:t,onOpen:n,onClose:r}=ne(),[i,a]=le(yo),{refresh:s}=ue(),{pathname:l}=te(),d=c=>{c==="delete"&&n()};return F.on("tool",d),Y(()=>{F.off("tool",d)}),o(ct,{blockScrollOnMount:!1,get opened(){return t()},onClose:r,size:{"@initial":"xs","@md":"md"},get children(){return[o(it,{}),o(at,{get children(){return[o(st,{get children(){return e("home.toolbar.delete")}}),o(lt,{get children(){const c=fa.cloneNode(!0);return Re(c,()=>e("home.toolbar.delete-tips")),c}}),o(At,{display:"flex",gap:"$2",get children(){return[o(Me,{onClick:r,colorScheme:"neutral",get children(){return e("global.cancel")}}),o(Me,{colorScheme:"danger",get loading(){return i()},onClick:async()=>{const c=await a(l(),$e().map(v=>v.name));we(c,()=>{s(),r()})},get children(){return e("global.confirm")}})]}})]}})]}})},ga=()=>{const{isOpen:e,onOpen:t,onClose:n}=ne(),r=X(),[i,a]=le(So),{pathname:s}=te(),{refresh:l}=ue(),d=c=>{if(c==="rename"){if(!Yr()){pe.warning(r("home.toolbar.only_one-tips"));return}t()}};return F.on("tool",d),Y(()=>{F.off("tool",d)}),o(K,{get when(){return e()},get children(){return o(ft,{title:"home.toolbar.input_new_name",get opened(){return e()},onClose:n,get defaultValue(){var c,v;return(v=(c=$e()[0])==null?void 0:c.name)!=null?v:""},get loading(){return i()},onSubmit:async c=>{const v=await a(ot(s(),$e()[0].name),c);we(v,()=>{l(),n()})}})}})},pa=()=>{const{isOpen:e,onOpen:t,onClose:n}=ne(),[r,i]=le(ko),{refresh:a}=ue(),{pathname:s}=te(),l=d=>{d==="new_file"&&t()};return F.on("tool",l),Y(()=>{F.off("tool",l)}),o(ft,{title:"home.toolbar.input_filename",get opened(){return e()},onClose:n,get loading(){return r()},onSubmit:async d=>{const c=await i(ot(s(),d),kt());we(c,()=>{a(),n()})}})},ma=()=>{const{isOpen:e,onOpen:t,onClose:n}=ne(),[r,i]=le(Co),{pathname:a}=te(),{refresh:s}=ue(),l=d=>{d==="mkdir"&&t()};return F.on("tool",l),Y(()=>{F.off("tool",l)}),o(ft,{title:"home.toolbar.input_dir_name",get opened(){return e()},onClose:n,get loading(){return r()},onSubmit:async d=>{const c=await i(ot(a(),d));we(c,()=>{s(),n()})}})},va=()=>{const e=X(),{isOpen:t,onOpen:n,onClose:r}=ne(),[i,a]=le(xo),{pathname:s}=te(),l=d=>{d==="offline_download"&&n()};return F.on("tool",l),Y(()=>{F.off("tool",l)}),o(ft,{title:"home.toolbar.offline_download",type:"text",get opened(){return t()},onClose:r,get loading(){return i()},get tips(){return e("home.toolbar.offline_download-tips")},onSubmit:async d=>{const c=await a(s(),d.split(`
`));we(c,()=>{r()})}})},ba=e=>{const t=X(),n=s=>{s===e.name&&i()};F.on("tool",n),Y(()=>{F.off("tool",n)});const{isOpen:r,onOpen:i,onClose:a}=ne();return o(ct,{get blockScrollOnMount(){return e.blockScrollOnMount},get opened(){return r()},onClose:a,closeOnOverlayClick:!1,closeOnEsc:!1,size:{"@initial":"xs","@md":"md","@lg":"lg","@xl":"xl","@2xl":"2xl"},get children(){return[o(it,{}),o(at,{get children(){return[o(Jr,{}),o(st,{get children(){return t(e.title)}}),o(lt,{get children(){return o(K,{get when(){return r()},get children(){return o(Dt,{get fallback(){return o(Xe,{})},get children(){return e.children}})}})}})]}})]}})},wa=e=>{const t=X();return o(co,{get children(){return[o(so,{get children(){return t(`home.local_settings.${e.name}`)}}),o(_n,{get value(){return xn[e.name]},onInput:n=>{lo(e.name,n.currentTarget.value)}})]}})},ya=()=>{const{isOpen:e,onOpen:t,onClose:n}=ne(),r=X(),i=a=>{a==="local_settings"&&t()};return F.on("tool",i),Y(()=>{F.off("tool",i)}),o(ao,{get opened(){return e()},placement:"right",onClose:n,get children(){return[o(Qr,{}),o(Zr,{get children(){return[o(eo,{}),o(to,{color:"$info9",get children(){return r("home.toolbar.local_settings")}}),o(no,{get children(){return[o(ce,{spacing:"$2",get children(){return o(ze,{get each(){return Object.keys(ro)},children:a=>o(wa,{name:a})})}}),o(Ln,{mt:"$4",get children(){return o(de,{spacing:"$4",p:"$2",color:"$neutral11",get children(){return[o(oo,{}),o(io,{})]}})}})]}})]}})]}})},Sa=Ne(()=>He(()=>import("./Upload.81e0505f.js"),["assets/Upload.81e0505f.js","assets/index.0dd565a4.js","assets/index.659f4289.css","assets/useT.8636173f.js","assets/index.5d3c28c5.js"])),ka=()=>[o(ua,{}),o(da,{}),o(ga,{}),o(ha,{}),o(pa,{}),o(ma,{}),o(va,{}),o(sa,{}),o(ba,{name:"upload",title:"home.toolbar.upload",get children(){return o(Sa,{})}}),o(ya,{})],Ca=()=>o(uo,{get children(){return[o(ca,{}),o(la,{}),o(ka,{})]}});const xa=(e,t)=>e===t,vn={equals:xa};let er=rr;const ye=1,et=2,_a={owned:null,cleanups:null,context:null,owner:null};var J=null;let me=null,W=null,q=null,se=null,zt=0;function $a(e,t){t=t?Object.assign({},vn,t):vn;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},r=i=>(typeof i=="function"&&(i=i(n.value)),nr(n,i));return[Ta.bind(n),r]}function tr(e,t,n){er=La;const r=Pa(e,t,!1,ye);r.user=!0,se?se.push(r):Nt(r)}function Ut(e){const t=W;W=null;try{return e()}finally{W=t}}function Ma(e,t,n){const r=Array.isArray(e);let i,a=n&&n.defer;return s=>{let l;if(r){l=Array(e.length);for(let c=0;c<e.length;c++)l[c]=e[c]()}else l=e();if(a){a=!1;return}const d=Ut(()=>t(l,i,s));return i=l,d}}function Oa(e){tr(()=>Ut(e))}function Ea(e){return J===null||(J.cleanups===null?J.cleanups=[e]:J.cleanups.push(e)),e}function Ta(){const e=me;if(this.sources&&(this.state||e))if(this.state===ye||e)Nt(this);else{const t=q;q=null,gt(()=>nt(this),!1),q=t}if(W){const t=this.observers?this.observers.length:0;W.sources?(W.sources.push(this),W.sourceSlots.push(t)):(W.sources=[this],W.sourceSlots=[t]),this.observers?(this.observers.push(W),this.observerSlots.push(W.sources.length-1)):(this.observers=[W],this.observerSlots=[W.sources.length-1])}return this.value}function nr(e,t,n){let r=e.value;return(!e.comparator||!e.comparator(r,t))&&(e.value=t,e.observers&&e.observers.length&&gt(()=>{for(let i=0;i<e.observers.length;i+=1){const a=e.observers[i],s=me&&me.running;s&&me.disposed.has(a),(s&&!a.tState||!s&&!a.state)&&(a.pure?q.push(a):se.push(a),a.observers&&or(a)),s||(a.state=ye)}if(q.length>1e6)throw q=[],new Error},!1)),t}function Nt(e){if(!e.fn)return;ir(e);const t=J,n=W,r=zt;W=J=e,Aa(e,e.value,r),W=n,J=t}function Aa(e,t,n){let r;try{r=e.fn(t)}catch(i){e.pure&&(e.state=ye),ar(i)}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?nr(e,r):e.value=r,e.updatedAt=n)}function Pa(e,t,n,r=ye,i){const a={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:J,context:null,pure:n};return J===null||J!==_a&&(J.owned?J.owned.push(a):J.owned=[a]),a}function tt(e){const t=me;if(e.state===0||t)return;if(e.state===et||t)return nt(e);if(e.suspense&&Ut(e.suspense.inFallback))return e.suspense.effects.push(e);const n=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<zt);)(e.state||t)&&n.push(e);for(let r=n.length-1;r>=0;r--)if(e=n[r],e.state===ye||t)Nt(e);else if(e.state===et||t){const i=q;q=null,gt(()=>nt(e,n[0]),!1),q=i}}function gt(e,t){if(q)return e();let n=!1;t||(q=[]),se?n=!0:se=[],zt++;try{const r=e();return Ia(n),r}catch(r){q||(se=null),ar(r)}}function Ia(e){if(q&&(rr(q),q=null),e)return;const t=se;se=null,t.length&&gt(()=>er(t),!1)}function rr(e){for(let t=0;t<e.length;t++)tt(e[t])}function La(e){let t,n=0;for(t=0;t<e.length;t++){const r=e[t];r.user?e[n++]=r:tt(r)}for(t=0;t<n;t++)tt(e[t])}function nt(e,t){const n=me;e.state=0;for(let r=0;r<e.sources.length;r+=1){const i=e.sources[r];i.sources&&(i.state===ye||n?i!==t&&tt(i):(i.state===et||n)&&nt(i,t))}}function or(e){const t=me;for(let n=0;n<e.observers.length;n+=1){const r=e.observers[n];(!r.state||t)&&(r.state=et,r.pure?q.push(r):se.push(r),r.observers&&or(r))}}function ir(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),r=e.sourceSlots.pop(),i=n.observers;if(i&&i.length){const a=i.pop(),s=n.observerSlots.pop();r<i.length&&(a.sourceSlots[s]=r,i[r]=a,n.observerSlots[r]=s)}}if(e.owned){for(t=0;t<e.owned.length;t++)ir(e.owned[t]);e.owned=null}if(e.cleanups){for(t=0;t<e.cleanups.length;t++)e.cleanups[t]();e.cleanups=null}e.state=0,e.context=null}function Da(e){return e instanceof Error||typeof e=="string"?e:new Error("Unknown error")}function ar(e){throw e=Da(e),e}var Fa=e=>typeof e=="function"&&!e.length?e():e,Ce=function(){return Ce=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ce.apply(this,arguments)};function sr(e,t,n){if(n||arguments.length===2)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function bn(e){return Array.prototype.slice.call(e)}function wn(e,t){var n=Math.floor(e);return n===t||n+1===t?e:t}function yn(){return Date.now()}function St(e,t,n){if(t="data-keen-slider-"+t,n===null)return e.removeAttribute(t);e.setAttribute(t,n||"")}function rt(e,t){return t=t||document,typeof e=="function"&&(e=e(t)),Array.isArray(e)?e:typeof e=="string"?bn(t.querySelectorAll(e)):e instanceof HTMLElement?[e]:e instanceof NodeList?bn(e):[]}function Pe(e){e.raw&&(e=e.raw),e.cancelable&&!e.defaultPrevented&&e.preventDefault()}function Ie(e){e.raw&&(e=e.raw),e.stopPropagation&&e.stopPropagation()}function lr(){var e=[];return{add:function(t,n,r,i){t.addListener?t.addListener(r):t.addEventListener(n,r,i),e.push([t,n,r,i])},input:function(t,n,r,i){this.add(t,n,function(a){return function(s){s.nativeEvent&&(s=s.nativeEvent);var l=s.changedTouches||[],d=s.targetTouches||[],c=s.detail&&s.detail.x?s.detail:null;return a({id:c?c.identifier?c.identifier:"i":d[0]?d[0]?d[0].identifier:"e":"d",idChanged:c?c.identifier?c.identifier:"i":l[0]?l[0]?l[0].identifier:"e":"d",raw:s,x:c&&c.x?c.x:d[0]?d[0].screenX:c?c.x:s.pageX,y:c&&c.y?c.y:d[0]?d[0].screenY:c?c.y:s.pageY})}}(r),i)},purge:function(){e.forEach(function(t){t[0].removeListener?t[0].removeListener(t[2]):t[0].removeEventListener(t[1],t[2],t[3])}),e=[]}}}function Ht(e,t,n){return Math.min(Math.max(e,t),n)}function Z(e){return(e>0?1:0)-(e<0?1:0)||+e}function Sn(e){var t=e.getBoundingClientRect();return{height:wn(t.height,e.offsetHeight),width:wn(t.width,e.offsetWidth)}}function G(e,t,n,r){var i=e&&e[t];return i==null?n:r&&typeof i=="function"?i():i}function Q(e){return Math.round(1e6*e)/1e6}function ja(e){var t,n,r,i,a,s;function l(u){s||(s=u),d(!0);var p=u-s;p>r&&(p=r);var h=i[n];if(h[3]<p)return n++,l(u);var m=h[2],S=h[4],w=h[0],k=h[1]*(0,h[5])(S===0?1:(p-m)/S);if(k&&e.track.to(w+k),p<r)return v();s=null,d(!1),c(null),e.emit("animationEnded")}function d(u){t.active=u}function c(u){t.targetIdx=u}function v(){var u;u=l,a=window.requestAnimationFrame(u)}function g(){var u;u=a,window.cancelAnimationFrame(u),d(!1),c(null),s&&e.emit("animationStopped"),s=null}return t={active:!1,start:function(u){if(g(),e.track.details){var p=0,h=e.track.details.position;n=0,r=0,i=u.map(function(m){var S,w=Number(h),k=(S=m.earlyExit)!==null&&S!==void 0?S:m.duration,y=m.easing,I=m.distance*y(k/m.duration)||0;h+=I;var T=r;return r+=k,p+=I,[w,m.distance,T,r,m.duration,y]}),c(e.track.distToIdx(p)),v(),e.emit("animationStarted")}},stop:g,targetIdx:null}}function Ra(e){var t,n,r,i,a,s,l,d,c,v,g,u,p,h,m=1/0,S=[],w=null,k=0;function y($){z(k+$)}function I($){var x=T(k+$).abs;return C(x)?x:null}function T($){var x=Math.floor(Math.abs(Q($/n))),b=Q(($%n+n)%n);b===n&&(b=0);var E=Z($),_=l.indexOf(sr([],l,!0).reduce(function(L,D){return Math.abs(D-b)<Math.abs(L-b)?D:L})),A=_;return E<0&&x++,_===s&&(A=0,x+=E>0?1:-1),{abs:A+x*s*E,origin:_,rel:A}}function P($,x,b){var E;if(x||!B())return f($,b);if(!C($))return null;var _=T(b!=null?b:k),A=_.abs,L=$-_.rel,D=A+L;E=f(D);var V=f(D-s*Z(L));return(V!==null&&Math.abs(V)<Math.abs(E)||E===null)&&(E=V),Q(E)}function f($,x){if(x==null&&(x=Q(k)),!C($)||$===null)return null;$=Math.round($);var b=T(x),E=b.abs,_=b.rel,A=b.origin,L=j($),D=(x%n+n)%n,V=l[A],re=Math.floor(($-(E-_))/s)*n;return Q(V-D-V+l[L]+re+(A===s?n:0))}function C($){return M($)===$}function M($){return Ht($,c,v)}function B(){return i.loop}function j($){return($%s+s)%s}function z($){var x;x=$-k,S.push({distance:x,timestamp:yn()}),S.length>6&&(S=S.slice(-6)),k=Q($);var b=O().abs;if(b!==w){var E=w!==null;w=b,E&&e.emit("slideChanged")}}function O($){var x=$?null:function(){if(s){var b=B(),E=b?(k%n+n)%n:k,_=(b?k%n:k)-a[0][2],A=0-(_<0&&b?n-Math.abs(_):_),L=0,D=T(k),V=D.abs,re=D.rel,We=a[re][2],qe=a.map(function(oe,cr){var U=A+L;(U<0-oe[0]||U>1)&&(U+=(Math.abs(U)>n-1&&b?n:0)*Z(-U));var Wt=cr-re,qt=Z(Wt),Ae=Wt+V;b&&(qt===-1&&U>We&&(Ae+=s),qt===1&&U<We&&(Ae-=s),g!==null&&Ae<g&&(U+=n),u!==null&&Ae>u&&(U-=n));var Gt=U+oe[0]+oe[1],ur=Math.max(U>=0&&Gt<=1?1:Gt<0||U>1?0:U<0?Math.min(1,(oe[0]+U)/oe[0]):(1-U)/oe[0],0);return L+=oe[0]+oe[1],{abs:Ae,distance:i.rtl?-1*U+1-oe[0]:U,portion:ur,size:oe[0]}});return V=M(V),re=j(V),{abs:M(V),length:r,max:h,maxIdx:v,min:p,minIdx:c,position:k,progress:b?E/n:k/r,rel:re,slides:qe,slidesLength:n}}}();return t.details=x,e.emit("detailsChanged"),x}return t={absToRel:j,add:y,details:null,distToIdx:I,idxToDist:P,init:function($){if(function(){if(i=e.options,a=(i.trackConfig||[]).map(function(_){return[G(_,"size",1),G(_,"spacing",0),G(_,"origin",0)]}),s=a.length){n=Q(a.reduce(function(_,A){return _+A[0]+A[1]},0));var b,E=s-1;r=Q(n+a[0][2]-a[E][0]-a[E][2]-a[E][1]),l=a.reduce(function(_,A){if(!_)return[0];var L=a[_.length-1],D=_[_.length-1]+(L[0]+L[2])+L[1];return D-=A[2],_[_.length-1]>D&&(D=_[_.length-1]),D=Q(D),_.push(D),(!b||b<D)&&(d=_.length-1),b=D,_},null),r===0&&(d=0),l.push(Q(n))}}(),!s)return O(!0);var x;(function(){var b=e.options.range,E=e.options.loop;g=c=E?G(E,"min",-1/0):0,u=v=E?G(E,"max",m):d;var _=G(b,"min",null),A=G(b,"max",null);_&&(c=_),A&&(v=A),p=c===-1/0?c:e.track.idxToDist(c||0,!0,0),h=v===m?v:P(v,!0,0),A===null&&(u=v),G(b,"align",!1)&&v!==m&&a[j(v)][2]===0&&(h-=1-a[j(v)][0],v=I(h-k)),p=Q(p),h=Q(h)})(),x=$,Number(x)===x?y(f(M($))):O()},to:z,velocity:function(){var $=yn(),x=S.reduce(function(b,E){var _=E.distance,A=E.timestamp;return $-A>200||(Z(_)!==Z(b.distance)&&b.distance&&(b={distance:0,lastTimestamp:0,time:0}),b.time&&(b.distance+=_),b.lastTimestamp&&(b.time+=A-b.lastTimestamp),b.lastTimestamp=A),b},{distance:0,lastTimestamp:0,time:0});return x.distance/x.time||0}}}function Va(e){var t,n,r,i,a,s,l,d;function c(w){return 2*w}function v(w){return Ht(w,l,d)}function g(w){return 1-Math.pow(1-w,3)}function u(){return r?e.track.velocity():0}function p(){S();var w=e.options.mode==="free-snap",k=e.track,y=u();i=Z(y);var I=e.track.details,T=[];if(y||!w){var P=h(y),f=P.dist,C=P.dur;if(C=c(C),f*=i,w){var M=k.idxToDist(k.distToIdx(f),!0);M&&(f=M)}T.push({distance:f,duration:C,easing:g});var B=I.position,j=B+f;if(j<a||j>s){var z=j<a?a-B:s-B,O=0,$=y;if(Z(z)===i){var x=Math.min(Math.abs(z)/Math.abs(f),1),b=function(A){return 1-Math.pow(1-A,1/3)}(x)*C;T[0].earlyExit=b,$=y*(1-x)}else T[0].earlyExit=0,O+=z;var E=h($,100),_=E.dist*i;e.options.rubberband&&(T.push({distance:_,duration:c(E.dur),easing:g}),T.push({distance:-_+O,duration:500,easing:g}))}e.animator.start(T)}else e.moveToIdx(v(I.abs),!0,{duration:500,easing:function(A){return 1+--A*A*A*A*A}})}function h(w,k){k===void 0&&(k=1e3);var y=147e-9+(w=Math.abs(w))/k;return{dist:Math.pow(w,2)/y,dur:w/y}}function m(){var w=e.track.details;w&&(a=w.min,s=w.max,l=w.minIdx,d=w.maxIdx)}function S(){e.animator.stop()}e.on("updated",m),e.on("optionsChanged",m),e.on("created",m),e.on("dragStarted",function(){r=!1,S(),t=n=e.track.details.abs}),e.on("dragChecked",function(){r=!0}),e.on("dragEnded",function(){var w=e.options.mode;w==="snap"&&function(){var k=e.track,y=e.track.details,I=y.position,T=Z(u());(I>s||I<a)&&(T=0);var P=t+T;y.slides[k.absToRel(P)].portion===0&&(P-=T),t!==n&&(P=n),Z(k.idxToDist(P,!0))!==T&&(P+=T),P=v(P);var f=k.idxToDist(P,!0);e.animator.start([{distance:f,duration:500,easing:function(C){return 1+--C*C*C*C*C}}])}(),w!=="free"&&w!=="free-snap"||p()}),e.on("dragged",function(){n=e.track.details.abs})}function Ba(e){var t,n,r,i,a,s,l,d,c,v,g,u,p,h,m,S,w,k,y=lr();function I(O){if(s&&d===O.id){var $=C(O);if(c){if(!f(O))return P(O);v=$,c=!1,e.emit("dragChecked")}if(S)return v=$;Pe(O);var x=function(E){if(w===-1/0&&k===1/0)return E;var _=e.track.details,A=_.length,L=_.position,D=Ht(E,w-L,k-L);if(A===0)return 0;if(!e.options.rubberband)return D;if(L<=k&&L>=w||L<w&&n>0||L>k&&n<0)return E;var V=(L<w?L-w:L-k)/A,re=i*A,We=Math.abs(V*re),qe=Math.max(0,1-We/a*2);return qe*qe*E}(l(v-$)/i*r);n=Z(x);var b=e.track.details.position;(b>w&&b<k||b===w&&n>0||b===k&&n<0)&&Ie(O),g+=x,!u&&Math.abs(g*i)>5&&(u=!0),e.track.add(x),v=$,e.emit("dragged")}}function T(O){!s&&e.track.details&&e.track.details.length&&(g=0,s=!0,u=!1,c=!0,d=O.id,f(O),v=C(O),e.emit("dragStarted"))}function P(O){s&&d===O.idChanged&&(s=!1,e.emit("dragEnded"))}function f(O){var $=M(),x=$?O.y:O.x,b=$?O.x:O.y,E=p!==void 0&&h!==void 0&&Math.abs(h-b)<=Math.abs(p-x);return p=x,h=b,E}function C(O){return M()?O.y:O.x}function M(){return e.options.vertical}function B(){i=e.size,a=M()?window.innerHeight:window.innerWidth;var O=e.track.details;O&&(w=O.min,k=O.max)}function j(O){u&&(Ie(O),Pe(O))}function z(){if(y.purge(),e.options.drag&&!e.options.disabled){var O;O=e.options.dragSpeed||1,l=typeof O=="function"?O:function(x){return x*O},r=e.options.rtl?-1:1,B(),t=e.container,function(){var x="data-keen-slider-clickable";rt("[".concat(x,"]:not([").concat(x,"=false])"),t).map(function(b){y.add(b,"dragstart",Ie),y.add(b,"mousedown",Ie),y.add(b,"touchstart",Ie)})}(),y.add(t,"dragstart",function(x){Pe(x)}),y.add(t,"click",j,{capture:!0}),y.input(t,"ksDragStart",T),y.input(t,"ksDrag",I),y.input(t,"ksDragEnd",P),y.input(t,"mousedown",T),y.input(t,"mousemove",I),y.input(t,"mouseleave",P),y.input(t,"mouseup",P),y.input(t,"touchstart",T,{passive:!0}),y.input(t,"touchmove",I,{passive:!1}),y.input(t,"touchend",P),y.input(t,"touchcancel",P),y.add(window,"wheel",function(x){s&&Pe(x)});var $="data-keen-slider-scrollable";rt("[".concat($,"]:not([").concat($,"=false])"),e.container).map(function(x){return function(b){var E;y.input(b,"touchstart",function(_){E=C(_),S=!0,m=!0},{passive:!0}),y.input(b,"touchmove",function(_){var A=M(),L=A?b.scrollHeight-b.clientHeight:b.scrollWidth-b.clientWidth,D=E-C(_),V=A?b.scrollTop:b.scrollLeft,re=A&&b.style.overflowY==="scroll"||!A&&b.style.overflowX==="scroll";if(E=C(_),(D<0&&V>0||D>0&&V<L)&&m&&re)return S=!0;m=!1,Pe(_),S=!1}),y.input(b,"touchend",function(){S=!1})}(x)})}}e.on("updated",B),e.on("optionsChanged",z),e.on("created",z),e.on("destroyed",y.purge)}function za(e){var t,n,r=null;function i(p,h,m){e.animator.active?s(p,h,m):requestAnimationFrame(function(){return s(p,h,m)})}function a(){i(!1,!1,n)}function s(p,h,m){var S=0,w=e.size,k=e.track.details;if(k&&t){var y=k.slides;t.forEach(function(I,T){if(p)!r&&h&&d(I,null,m),c(I,null,m);else{if(!y[T])return;var P=y[T].size*w;!r&&h&&d(I,P,m),c(I,y[T].distance*w-S,m),S+=P}})}}function l(p){return e.options.renderMode==="performance"?Math.round(p):p}function d(p,h,m){var S=m?"height":"width";h!==null&&(h=l(h)+"px"),p.style["min-"+S]=h,p.style["max-"+S]=h}function c(p,h,m){if(h!==null){h=l(h);var S=m?h:0;h="translate3d(".concat(m?0:h,"px, ").concat(S,"px, 0)")}p.style.transform=h,p.style["-webkit-transform"]=h}function v(){t&&(s(!0,!0,n),t=null),e.on("detailsChanged",a,!0)}function g(){i(!1,!0,n)}function u(){v(),n=e.options.vertical,e.options.disabled||e.options.renderMode==="custom"||(r=G(e.options.slides,"perView",null)==="auto",e.on("detailsChanged",a),(t=e.slides).length&&g())}e.on("created",u),e.on("optionsChanged",u),e.on("beforeOptionsChanged",function(){v()}),e.on("updated",g),e.on("destroyed",v)}function Ua(e,t){return function(n){var r,i,a,s,l,d=lr();function c(f){var C;St(n.container,"reverse",(C=n.container,window.getComputedStyle(C,null).getPropertyValue("direction")!=="rtl"||f?null:"")),St(n.container,"v",n.options.vertical&&!f?"":null),St(n.container,"disabled",n.options.disabled&&!f?"":null)}function v(){g()&&S()}function g(){var f=null;if(s.forEach(function(M){M.matches&&(f=M.__media)}),f===r)return!1;r||n.emit("beforeOptionsChanged"),r=f;var C=f?a.breakpoints[f]:a;return n.options=Ce(Ce({},a),C),c(),T(),P(),k(),!0}function u(f){var C=Sn(f);return(n.options.vertical?C.height:C.width)/n.size||1}function p(){return n.options.trackConfig.length}function h(f){for(var C in r=!1,a=Ce(Ce({},t),f),d.purge(),i=n.size,s=[],a.breakpoints||[]){var M=window.matchMedia(C);M.__media=C,s.push(M),d.add(M,"change",v)}d.add(window,"orientationchange",I),d.add(window,"resize",y),g()}function m(f){n.animator.stop();var C=n.track.details;n.track.init(f!=null?f:C?C.abs:0)}function S(f){m(f),n.emit("optionsChanged")}function w(f,C){if(f)return h(f),void S(C);T(),P();var M=p();k(),p()!==M?S(C):m(C),n.emit("updated")}function k(){var f=n.options.slides;if(typeof f=="function")return n.options.trackConfig=f(n.size,n.slides);for(var C=n.slides,M=C.length,B=typeof f=="number"?f:G(f,"number",M,!0),j=[],z=G(f,"perView",1,!0),O=G(f,"spacing",0,!0)/n.size||0,$=z==="auto"?O:O/z,x=G(f,"origin","auto"),b=0,E=0;E<B;E++){var _=z==="auto"?u(C[E]):1/z-O+$,A=x==="center"?.5-_/2:x==="auto"?0:x;j.push({origin:A,size:_,spacing:O}),b+=_}if(b+=O*(B-1),x==="auto"&&!n.options.loop&&z!==1){var L=0;j.map(function(D){var V=b-L;return L+=D.size+O,V>=1||(D.origin=1-V-(b>1?0:1-b)),D})}n.options.trackConfig=j}function y(){T();var f=n.size;n.options.disabled||f===i||(i=f,w())}function I(){y(),setTimeout(y,500),setTimeout(y,2e3)}function T(){var f=Sn(n.container);n.size=(n.options.vertical?f.height:f.width)||1}function P(){n.slides=rt(n.options.selector,n.container)}n.container=(l=rt(e,document)).length?l[0]:null,n.destroy=function(){d.purge(),n.emit("destroyed"),c(!0)},n.prev=function(){n.moveToIdx(n.track.details.abs-1,!0)},n.next=function(){n.moveToIdx(n.track.details.abs+1,!0)},n.update=w,h(n.options)}}var Na=function(e,t,n){try{return function(r,i){var a,s={};return a={emit:function(l){s[l]&&s[l].forEach(function(c){c(a)});var d=a.options&&a.options[l];d&&d(a)},moveToIdx:function(l,d,c){var v=a.track.idxToDist(l,d);if(v){var g=a.options.defaultAnimation;a.animator.start([{distance:v,duration:G(c||g,"duration",500),easing:G(c||g,"easing",function(u){return 1+--u*u*u*u*u})}])}},on:function(l,d,c){c===void 0&&(c=!1),s[l]||(s[l]=[]);var v=s[l].indexOf(d);v>-1?c&&delete s[l][v]:c||s[l].push(d)},options:r},function(){if(a.track=Ra(a),a.animator=ja(a),i)for(var l=0,d=i;l<d.length;l++)(0,d[l])(a);a.track.init(a.options.initial||0),a.emit("created")}(),a}(t,sr([Ua(e,{drag:!0,mode:"snap",renderMode:"precision",rubberband:!0,selector:".keen-slider__slide"}),za,Ba,Va],n||[],!0))}catch(r){console.error(r)}};const Ha=(e,...t)=>{var g;let n,r;const i=()=>Fa(e),[a,s]=$a(((g=i())==null?void 0:g.initial)||0),l=()=>n&&n.destroy(),d=(u={})=>({selector:r.childNodes,...i(),...u}),c=()=>n==null?void 0:n.update(d());return[u=>{r=u,r.classList.add("keen-slider"),Oa(()=>{n=new Na(r,d(),t),n.on("slideChanged",()=>s(n.track.details.rel))}),Ea(l),typeof e=="function"&&tr(Ma(()=>e,c))},{current:a,next:()=>n&&n.next(),prev:()=>n&&n.prev(),details:()=>n?n.track.details:{},slider:()=>n,moveTo:(u,p=250,h=!1,m)=>n==null?void 0:n.moveToIdx(u,h,{duration:p,easing:m}),destroy:l,update:c}]};var Wa=(e,t,n)=>{const r=n(e,t);return Y(()=>clearInterval(r))};const qa=ge("<div></div>"),Ga=ge('<a class="button button-left"><i class="arrow arrow-left"></i></a>'),Ka=ge('<a class="button button-right"><i class="arrow arrow-right"></i></a>'),Xa=ge('<a target="_blank"></a>'),Ya=()=>{const e=JSON.parse(be("carousel"));let t,n;const r=(u=1e3,p)=>h=>{n=()=>{t=Wa(()=>h.track.details&&h.moveToIdx(h.track.details.position+1,!0,p.animation),u,setInterval)},p.pauseOnDrag!==!1&&h.on("dragStarted",()=>t==null?void 0:t()),It(()=>{!p.pause||p.pause()===!1?n():t==null||t();var m=document.createEvent("UIEvents");m.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(m)})},[i,{current:a,next:s,prev:l,moveTo:d}]=Ha({loop:!0},r(4500,{pauseOnDrag:!1})),[c,v]=je(!1),g=u=>{u()};return o(Bt,{get children(){return o(ce,{class:"body",mt:"$1",px:"$4",py:"$2",w:"$full",gap:"$4",get children(){return o(Te,{onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1),w:"min(100%, 800px)",get children(){return o(ce,{rounded:"$lg",class:"vstack",get children(){return[(()=>{const u=qa.cloneNode(!0);return i(u),Re(u,o(ze,{each:e,children:p=>(()=>{const h=Xa.cloneNode(!0);return Re(h,o(In,{get src(){return p.image},rounded:"$lg"})),Tn(()=>An(h,"href",p.link)),h})()})),u})(),o(K,{get when(){return c()},get children(){return[(()=>{const u=Ga.cloneNode(!0);return u.$$click=()=>g(l),u})(),(()=>{const u=Ka.cloneNode(!0);return u.$$click=()=>g(s),u})()]}})]}})}})}})}})};fo(["click"]);const Ja=()=>{go(be("site_title"));const e=be("announcement");return e&&pe.render(()=>o(Vn,{children:e})),[o(Ya,{}),o(Qi,{}),o(Ca,{}),o(Xi,{}),o(Ji,{})]},ls=Object.freeze(Object.defineProperty({__proto__:null,default:Ja},Symbol.toStringTag,{value:"Module"}));export{ls as L,Vt as M,ue as a,Ro as b,ss as g,Fe as o,Bo as u};
